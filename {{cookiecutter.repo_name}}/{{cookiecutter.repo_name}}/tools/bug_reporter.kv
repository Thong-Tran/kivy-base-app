#:kivy {{cookiecutter.minimum_kivy_version}}

#:import MDRaisedButton kivymd.button.MDRaisedButton
#:import MDLabel kivymd.label.MDLabel

<BugReporter>:
    txt_traceback: txt_traceback
    canvas:
		Color:
		    rgba: 0,0,0,0.4
        Rectangle:
            pos: self.pos
            size: self.size
    Image:
        source: 'data/logo/kivy-icon-256.png'
        opacity: 0.2
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        MDLabel:
            id: title
            font_style: 'Subhead'
            theme_text_color: 'Primary'
            text: 'App has experienced an internal error :('
            font_size: '10pt'
            pos_hint:{'center_x': 0.5, 'center_y': .5}
            size_hint_y: None
            size : self.size
            height: self.size[1]
            halign:"center"
            valign: "middle"
        ScrollView:
            id: e_scroll
            bar_width: 10
            scroll_y: 0
            TextInput:
                id: txt_traceback
                size_hint_y: None
                height: max(e_scroll.height, self.minimum_height)
                background_color: 0, 0, 0, 0.4
                text: ''
                foreground_color: 1, 1, 1, 1
                readonly: True
        BoxLayout:
            padding: dp(10), dp(10)
            spacing: dp(5)
            size_hint_y:None
            height: dp(70)
            AnchorLayout:
                anchor_x:'right'
                anchor_y: 'center'
                MDRaisedButton:
                    text: 'Copy'
                    on_press: root.on_clipboard()
                # MDRaisedButton:
                #     text: 'Report Bug'
                #     on_press: root.on_report()
            AnchorLayout:
                anchor_x:'left'
                anchor_y: 'center'
                MDRaisedButton:
                    text: 'Close'
                    on_press: root.on_close()

<ReportWarning>:
    size_hint: .5, .5
    auto_dismiss: False
    title: 'Warning'
    BoxLayout:
        orientation: 'vertical'
        MDLabel:
            text_size: self.size
            text: root.text
            padding: '4sp', '4sp'
            valign: 'middle'
        BoxLayout:
            MDRaisedButton:
                size_hint_y: None
                height: '40sp'
                on_release: root.dispatch('on_release')
                text: 'Report'
            MDRaisedButton:
                size_hint_y: None
                height: '40sp'
                on_release: root.dismiss()
                text: 'Close'
